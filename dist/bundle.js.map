{"version":3,"sources":["node_modules/.6.0.2@browser-pack/_prelude.js","src/DrawView.ts","src/index.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// var Promise :any;\n/*\npromise异步通过fileReader加载图片,成功后返回该图片\n*/\n  function promiseFileReaderLoadImage(file:any){\n  \treturn new Promise(function(resolve:any,reject:any){\n           let reader  = new FileReader(),image = new Image(),url:string;\n           reader.onload = function(e:any){\n           \t   url = e.target.result;\n           \t   image.onload=function(){\n                    resolve(image)\n           \t   }\n           \t   image.onerror = reject;\n           \t   image.src = url;\n           }\n           reader.onerror  = reject;\n           reader.readAsDataURL(file) \n\n  \t})\n  }\n  function promiseLoadImage(url:string){\n  \treturn new Promise(function(resolve:any,reject:any){\n  \t\t var image = new Image();\n  \t\t     image.onload=function(){\n  \t\t     \tresolve(image);\n  \t\t     };\n  \t\t     image.onerror=reject;\n  \t\t     image.src = url;\n\n  \t})\n  }\n/*\nmode\n0 默认为双人对话,\n1 单人长文\n\nplatform\n0 为ios\n1 为安卓\n*/\ninterface viewOptions {\n\tmode:number,\n\tplatform:number\n\tcontext:any,\n\tbackground?:any,\n\tx:number,\n\ty:number,\n    windowWidth?:number,\n    windowHeight?:number,\n    textSize?:number,\n\n}\ninterface dialogue{\n\tauthor:number,\n\tcontent:string;\n}\ninterface bgOpts{\n  x?:number,\n  color?:string,\n}\nexport class DrawWecheatView{\n\tavatar : any;\n\tavatar2 : any;\n\topts:any;\n\tdialogueList:Array<dialogue>\n\trealHeight : number;\n\tbackground:any;\n\tstatusImage:any;\n\ttalkerImage:any;\n  inputImage:any;\n\tinput:any;\n\tcontext:any;\n\twindowWidth:number;\n\twindowHeight:number;\n\tdefaultInitViewOptions:any;\n\tbackgroundHeight:number;\n\tavatarSize : number;\n  textSize:number;\n\tconstructor(opts:viewOptions){  \n\t\t  this.opts = {\n\t\t  \tmode:opts.mode,\n\t\t  \tplatform:opts.platform,\n            x:opts.x,\n            y:opts.y,\n\t\t  }\n\t\t  this.context = opts.context;\n\t\t  this.windowWidth  = opts.windowWidth;\n\t\t  this.windowHeight  = opts.windowHeight;\n\t\t  var defaultInitViewOptions = {\n        \twindowHeight:this.windowHeight,\n        \twindowWidth:this.windowWidth,\n        \tstatusWidth:this.opts.statusWidth||this.windowWidth,\n        \tstatusHeight:this.opts.statusHeight||40,\n        \ttalkerWidth:this.opts.talkerWidth||this.windowWidth,\n        \ttalkerHeight:this.opts.talkerHeight||45,\n            inputWidth:this.opts.inputWidth||this.windowWidth,\n            inputHeight:this.opts.inputHeight||60,\n\n        }   \n        this.defaultInitViewOptions=defaultInitViewOptions;\n        //初始化的时候已经将与头部的间距设为20\n        this.realHeight = 20 + defaultInitViewOptions.talkerHeight + defaultInitViewOptions.statusHeight;\n        this.backgroundHeight = 0;\n        this.avatarSize = 40;\n        this.textSize = this.opts.textSize||11;\n\t}\n\t/*\n     params\n     target\n     1 设置主头像\n     2 设置对话头像\n     通过异步链确定加载完成\n\t*/\n\tsetAvatar(target:number,avatar:any){\n\t\t var fileReader = promiseFileReaderLoadImage(avatar),that = this;\n             return new Promise(function(resolve:any,reject:any){\n                  fileReader.then(function(result:any){\n                   if(target === 0){\n                      that.avatar = result;\n\t\t             }else{\n                       that.avatar2 = result;\n\t\t            }\n\t\t            resolve()\n              }).catch(function(e:any){\n              \t   reject(e);\n              })\n            })\n }\n    /*设置对话信息列表*/\n    setDialogue(list:Array<dialogue>){\n          this.dialogueList = list;\n    }\n    _drawDialogueView(){\n        this._checkStatus().then(function(){\n               \n        }).catch((e:any)=>function(){\n\n        })\n    }\n    /*\n     初始化顶部栏和状态栏并绘制\n    */\n    initView(){\n       /*IOS加载*/\n       var srcURL :string = \"\",\n       that = this;\n       if(this.opts.platform===0){\n           /*目前图片写死,后面再修改成活动的*/\n            srcURL=\"../img/\"\n       }else{\n\n       }\n    \n            var statusImage =   promiseLoadImage(srcURL+\"status.png\"),\n             talkerImage =   promiseLoadImage(srcURL+\"talker.png\"),\n             inputImage =   promiseLoadImage(srcURL+\"input.png\");\n             return new Promise(function(resolve:any,reject:any){\n             \tPromise.all([statusImage,talkerImage,inputImage]).then(function(result:any){\n                         that.statusImage = result[0];\n                         that.talkerImage = result[1];\n                         that.inputImage  = result[2];\n                         /*加载完图片后开始绘制*/\n                         /*绘制过程*/\n                         /**/\n                         that.context.drawImage(that.statusImage,that.opts.x,that.opts.y,that.defaultInitViewOptions.statusWidth,that.defaultInitViewOptions.statusHeight);\n                         that.context.drawImage(that.talkerImage,that.opts.x,that.opts.y+that.defaultInitViewOptions.statusHeight,that.defaultInitViewOptions.talkerWidth,that.defaultInitViewOptions.talkerHeight);\n                         that.context.drawImage(that.inputImage,that.opts.x,that.opts.y+that.defaultInitViewOptions.windowHeight-that.defaultInitViewOptions.inputHeight,that.defaultInitViewOptions.inputWidth,that.defaultInitViewOptions.inputHeight);\n                         resolve();\n             \t}).catch((e:any)=>{\n             \t\treject(e)\n             \t})\n             })\n    }\n    /*\n     如果需要使用自定义背景就加载背景图返回一个promise\n    */\n    _loadBackground(){\n         \t return promiseFileReaderLoadImage(this.opts.background);\n    }\n    setBarkground(opts:bgOpts){\n    \tvar that = this,\n    \tbackgroundX = this.opts.x,\n    \tbackgroundY = this.defaultInitViewOptions.statusHeight+this.defaultInitViewOptions.talkerHeight,\n    \tbackgroundWidth = this.defaultInitViewOptions.windowWidth,\n    \tbackgroundHeight = this.defaultInitViewOptions.windowHeight-this.defaultInitViewOptions.statusHeight-this.defaultInitViewOptions.talkerHeight-this.defaultInitViewOptions.inputHeight;\n    \t//存储下来计算所得的背景高度\n    \tthis.backgroundHeight = backgroundHeight;\n       return new Promise(function(resolve:any,reject:any){\n       \t   \tif(opts.color){\n               //直接绘制背景\n                   that.context.fillStyle = opts.color;\n                       that.context.fillRect(backgroundX,backgroundY,backgroundWidth,backgroundHeight);  \n                       resolve();\n    \t    }else{\n    \t\t//加装图片并绘制\n    \t  }\n       })\n    }\n    _checkStatus(){\n    \t//检查是否加载图片完成了如果失败了则抛出异常\n    \treturn new Promise(function(resolve:any,reject:any){\n    \t\tthis.timer = setTimeout(function(){\n                 if(this.checkTimer){\n                 \treject(\"time out\")\n                 }\n    \t\t},50000);\n    \t\tthis.checkTimer = setInterval(function(){\n                       if(this.opts.mode===1){\n                             if(this.avatar){\n                             \tresolve()\n                             }\n                       }else{\n                       \t  if(this.avatar&&this.avatar2){\n                       \t  \tresolve()\n                       \t  }\n                       }\n    \t\t},500) \n    \t})\n    }\n    /*头像方面待更新*/\n    /*绘制单条信息*/\n    drewMessage(user:number,text:string){\n    \t//单行信息长度根据字体宽度设定,多行信息待定\n    \tlet avatarX:number,avatarY:number,messageX:number,messageY:number,width:number,height=35,\n    \t messageWidth = 100,messageHeight = 30,padding = 5,textCount =0,row=0,textSize,\n       textRows:Array<string>;\n       /*三角参数*/\n       const TRIANGLE_PADDING_START_X = 10,\n             TRIANGLE_PADDING_START_Y =  20,\n             TRIANGLE_PADDING_TOP_Y =  15,\n             TRIANGLE_PADDING_DOWN_Y =  25;\n             //多行字数限制\n    const    MULTIPE_LINE_CHAT_LIMIT = 40;\n    \t  //计算信息的宽度,先将中文转化一下,一个中文字符占位两个英文字符\n    \t  let chineseCount = this._countChinese(text),\n    \t      otherCount = text.length - chineseCount;\n    \t      this.context.font = \"18px 微软雅黑\";\n            textCount = text.length - chineseCount + chineseCount * 2;\n    \t   if(textCount < MULTIPE_LINE_CHAT_LIMIT){\n            //只有一行\n            width = this.context.measureText(text).width + 12;\n          }else{\n          \t/*\n          \t多行定宽处理\n          \t*/\n            \n            let j = 0,strCount=0,tempStr=\"\";\n             textRows[j] = \"\";\n            //按字节截取一行可以放36字节\n            for(let i = 0 ; i < text.length; i++){\n            \t    let strSize =  0 ;\n                    if(text.charCodeAt(i) > 128){\n                    \tstrSize = 2 ;\n                    }else{\n                    \tstrSize = 1;\n                    }\n                    //第二个条件应该是通过计算非中文字符宽度和中文字符宽度比进行判断 这个暂时写死。。\n                    if(strCount + strSize > MULTIPE_LINE_CHAT_LIMIT || this._countNotChinese(tempStr) > MULTIPE_LINE_CHAT_LIMIT - 3){\n                    \t  textRows[j]+=tempStr;\n                    \t  tempStr = \"\";\n                    \t  //换行\n                          j++;\n                          //初始化\n                          textRows[j]= \"\";\n                          //清零\n                          strCount=0;\n                   }  \n                      tempStr += text[i]   \n                      strCount += strSize;\n            }\n            if(textRows[j]!==tempStr){\n            \tlet temp = j++;\n            \ttextRows[temp]= \"\";\n            \ttextRows[temp]+=tempStr;\n            \t\n            }\n            height = 15 + (j+1) *20;\n            width  = 18 * 20 + 15;     \n  \n        }\n    \t /*绘制前需要判断绘制信息是否会超过整个聊天栏*/\n            if(height+this.realHeight>this.backgroundHeight){\n            \t/*超过整个聊天栏则停止绘制,后续可以绘制后遮盖？*/\n            \treturn false;\n            }\n            if(user===0){\n            \t//右边为本人\n                //先计算头像的起点,信息的起点,使用默认的左右间距后为起点\n                avatarX = this.defaultInitViewOptions.windowWidth - padding - this.avatarSize;\n                avatarY = this.realHeight+padding;\n                messageX = avatarX - width - 12;\n                messageY = avatarY ;\n              /*先绘制头像再绘制信息*/\n              this.context.drawImage(this.avatar,avatarX,avatarY,this.avatarSize,this.avatarSize);\n              //开始绘制信息\n              this._drawRoundRect(this.context,messageX,messageY+5,width,height,5);\n              this.context.fillStyle = \"#a2e563\"\n              this.context.fill();\n              this.context.beginPath();\n              //右边起点\n              this.context.moveTo(messageX+TRIANGLE_PADDING_START_X+width,messageY+TRIANGLE_PADDING_START_Y)\n              // 左上角\n              this.context.lineTo(messageX+width,messageY+TRIANGLE_PADDING_TOP_Y)\n              // //左下角\n              this.context.lineTo(messageX+width,messageY+TRIANGLE_PADDING_DOWN_Y)\n              this.context.lineCap =  \"round\"\n              this.context.strokeStyle = \"#a2e563\";\n              this.context.stroke();\n              this.context.fillStyle = \"#a2e563\"\n              this.context.fill();\n              this.context.closePath();\n          if(textCount < MULTIPE_LINE_CHAT_LIMIT){\n            //单行绘制\n            this.context.fillStyle = \"#000\"\n            this.context.fillText(text,messageX+6,messageY + 30);\n          }else{\n           //多行绘制\n            let textRowX =messageX+10,textRowY=messageY + 30;\n         for(let i =0;i < textRows.length;i++){\n            //多行需要分拆\n            this.context.beginPath(); \n            this.context.fillStyle = \"#000\"\n            this.context.fillText(textRows[i],textRowX,textRowY);\n            this.context.closePath();\n            textRowY += 25;\n            }\n          }\n\n            }else{\n            \t//左边为对话者\n                //先计算头像的起点,信息的起点,使用默认的左右间距后为起点\n                avatarX = padding;\n                avatarY = this.realHeight+padding;\n                messageX = avatarX + this.avatarSize + 11;\n                messageY = avatarY ;\n              /*先绘制头像再绘制信息*/\n              this.context.drawImage(this.avatar2,avatarX,avatarY,this.avatarSize,this.avatarSize);\n              //开始绘制信息\n              this._drawRoundRect(this.context,messageX,messageY+5,width,height,5);\n              this.context.fillStyle = \"#FFF\"\n              this.context.fill();\n              this.context.beginPath();\n              //左边起点\n              this.context.moveTo(messageX-TRIANGLE_PADDING_START_X,messageY+TRIANGLE_PADDING_START_Y)\n              //右上角\n              this.context.lineTo(messageX,messageY + TRIANGLE_PADDING_TOP_Y)\n              //右下角\n              this.context.lineTo(messageX,messageY + TRIANGLE_PADDING_DOWN_Y)\n              this.context.lineCap =  \"round\"\n              this.context.strokeStyle = \"#fff\";\n              this.context.stroke();\n              this.context.fillStyle = \"#fff\"\n              this.context.fill();\n              this.context.closePath();\n             \n          if(textCount<36){\n            //单行绘制\n            this.context.fillStyle = \"#000\"\n            this.context.fillText(text,messageX+6,messageY + 30);\n          }else{\n           //多行绘制\n          let textRowX =messageX+10,textRowY=messageY + 30;\n         for(let i =0;i < textRows.length;i++){\n            //多行需要分拆\n            this.context.beginPath(); \n            this.context.fillStyle = \"#000\"\n            this.context.fillText(textRows[i],textRowX,textRowY);\n            this.context.closePath();\n            textRowY += 25;\n            }\n          }\n            }\n       // 绘制完成后需要更新实际高度\n       this.realHeight+=height+15;\n       return true;\n\n    }\n    _debugImage(){\n    \tvar url = \"../img/debug.png\",that = this;\n          return new Promise(function(resolve:any){\n          \t    promiseLoadImage(url).then(function(result:any){\n                       that.avatar = result;\n          \t    \t   resolve(result)\n          \t    })\n          })\n    }\n    /*画圆角的函数*/\n    _drawRoundRect(cxt:any, x:number, y:number, width:number, height:number, radius:number){\n        cxt.beginPath();\n        cxt.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 3 / 2);\n        cxt.lineTo(width - radius + x, y);\n        cxt.arc(width - radius + x, radius + y, radius, Math.PI * 3 / 2, Math.PI * 2);\n        cxt.lineTo(width + x, height + y - radius);\n        cxt.arc(width - radius + x, height - radius + y, radius, 0, Math.PI * 1 / 2);\n        cxt.lineTo(radius + x, height +y);\n        cxt.arc(radius + x, height - radius + y, radius, Math.PI * 1 / 2, Math.PI);\n        cxt.closePath();\n    }\n    /*设置对话人名字*/\n    setTalkerName(name:string){\n    \t/*长度不可超过20个字符*/\n         if(name.length>20||name.length==0){return false}\n    \t let nameY = this.defaultInitViewOptions.statusHeight + 25,\n         nameX = this.defaultInitViewOptions.windowWidth/2 - (name.length *8)/2;\n    \t this.context.beginPath();\n         this.context.fillStyle = \"#fff\"\n         this.context.font = \"22px 微软雅黑\";\n         this.context.fillText(name,nameX,nameY);\n         this.context.closePath();\n    }\n  _countChinese(str:string){\n    var m=str.match(/[\\u4e00-\\u9fff\\uf900-\\ufaff]/g);\n    return (!m?0:m.length);\n}  \n_countNotChinese(str:string){\n\tvar m=str.match(/(?![\\u4e00-\\u9fff\\uf900-\\ufaff])/g);\n    return (!m?0:m.length);\n}\n  \n   //设置状态图片接口(null则是直接清空)\n   setStatusImage(statusImage:any){\n   \t   this.statusImage = statusImage;\n   }\n   //设置状态对话条接口(null则是直接清空)\n   settalkerImage(talkerImage:any){\n   \t   this.talkerImage = talkerImage;\n   }\n   getStatusImage(){\n   \treturn this.statusImage;\n   }\n   getTalkerImage(){\n   \treturn this.talkerImage;\n   }\n}","import {DrawWecheatView} from './DrawView'\n\n\n(function(){ \n         var canvas:any,context,drawWecheatView:DrawWecheatView,isInit:boolean,avatar,list = [\n       {\n         user:0,\n         message:\"hello\"\n       },\n        {\n         user:1,\n         message:\"hello1\"\n       },\n        {\n         user:1,\n         message:\"hello2\"\n       },\n       ];\n        canvas = document.getElementById(\"canvas\");\n        canvas.width = 500;\n        canvas.height = 800;\n        context = canvas.getContext(\"2d\");\n        drawWecheatView = new DrawWecheatView({\n    mode:0,\n    platform:0,\n    x:0,\n    y:0,\n    context:context,\n    windowWidth:500,\n    windowHeight:800\n  })    \n\n        document.getElementById(\"setName\").onclick = function(){\n            setName()\n        };\n        document.getElementById(\"addMessage\").onclick = function(){\n           addMessage()\n        }\n         document.getElementById(\"process\").onclick = function(){\n           download()\n        }\n        document.getElementById(\"upload\").onclick = function(){  \n             var avatar = (<HTMLInputElement>document.getElementById('avatar')),\n             avatar2 = (<HTMLInputElement>document.getElementById('avatar2')),\n             mode    = Number((<HTMLInputElement>document.getElementById('mode')).value),\n             addMessage = (<HTMLInputElement>document.getElementById('addMessage'));\n             var element = (<HTMLInputElement>this);\n             if(mode===0){\n               //双方头像必须上传\n               if(!avatar.files[0]||!avatar2.files[0]){\n                 alert(\"请上传双方头像\");\n               }else{\n                 element.disabled =true\n                 uploadAvatarBoth(avatar,avatar2).then(function(){\n                              addMessage.disabled = false;\n                 })\n               }\n             }\n             if(mode==1){\n                //自己头像必须上传\n                if(!avatar.files[0]){\n                 alert(\"请上传自己头像\")\n               }else{\n                 element.disabled =true\n                 uploadAvatarSelf(avatar).then(function(result:any){\n                              addMessage.disabled = false;\n                 })\n               }\n             }\n              if(mode==2){\n                //对方头像必须上传\n                 if(!avatar2.files[0]){\n                 alert(\"请上传对方头像\")\n               }else{\n                 element.disabled =true\n                 uploadAvatarOther(avatar2).then(function(){\n                              addMessage.disabled = false;\n                 })\n               }\n             }\n\n        }\n      checkInit(function(){\n        document.getElementById('loading').style.display=\"none\";\n      }) \n\n\n      /*init*/\n      drawWecheatView.initView()\n      .then(function(){\n        isInit =  true;\n        return drawWecheatView.setBarkground({color:\"#f3f3f3\"})\n      })\n      function checkInit(success:any,fail?:any){\n        var timer = setInterval(function(){\n                    if(isInit){\n                      clearInterval(timer);\n                      clearInterval(timeOuter);\n                      console.log(\"初始化成功\")//\n                      success()\n                    }\n        },500);\n        var timeOuter = setTimeout(function(){\n              if(!isInit){\n                alert(\"初始化失败\")\n              }\n        },50000);\n      }\n      function uploadAvatarBoth(avatar:any,avatar2:any){\n               var p1 = drawWecheatView.setAvatar(0,avatar.files[0])\n               var p2 = drawWecheatView.setAvatar(1,avatar2.files[0])\n             return Promise.all([p1,p2]);\n\n      }\n      function uploadAvatarSelf(avatar:any){\n        return drawWecheatView.setAvatar(0,avatar.files[0])\n      }\n      function uploadAvatarOther(avatar:any){\n        return drawWecheatView.setAvatar(1,avatar.files[0])\n      }\n      function addMessage(){\n         var talkerType = Number((<HTMLInputElement>document.getElementById('talkerType')).value),\n             message =  (<HTMLInputElement>document.getElementById('message')).value;\n             if(message===\"\"){\n               alert(\"信息不能为空\")\n             }else{\n               var result = drawWecheatView.drewMessage(talkerType,message)\n                 if(!result){\n                     alert(\"高度不足 请等待更新\");\n                 }\n             }\n      }\n      function setName(){\n            var name = (<HTMLInputElement>document.getElementById(\"talkerName\")).value;\n            console.log(name);\n            drawWecheatView.setTalkerName(name);\n            (<HTMLInputElement>document.getElementById(\"setName\")).disabled = true;\n      }\n      function download(){\n        if (canvas.toBlob) {\n                canvas.toBlob(\n        function (blob:any) {\n           createAndDownloadFile(\"record.png\",blob)\n        },\n        'image/jpeg'\n    );\n      }\n  }\n/**\nhttps://gaohaoyang.github.io/2016/11/22/js-create-file-and-download/\n * 创建并下载文件\n * @param  {String} fileName 文件名\n * @param  {String} content  文件内容\n */\nfunction createAndDownloadFile(fileName:any, content:any) {\n    var aTag = document.createElement('a');\n    var blob :any;\n    blob= new Blob([content]);\n    aTag.download = fileName;\n    aTag.href = URL.createObjectURL(blob);\n    aTag.click();\n    URL.revokeObjectURL(blob);\n}\n})()"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy8uNi4wLjJAYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0RyYXdWaWV3LnRzIiwic3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxvQkFBb0I7QUFDcEI7O0VBRUU7QUFDQSxvQ0FBb0MsSUFBUTtJQUMzQyxNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBUyxPQUFXLEVBQUMsTUFBVTtRQUMxQyxJQUFJLE1BQU0sR0FBSSxJQUFJLFVBQVUsRUFBRSxFQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxFQUFDLEdBQVUsQ0FBQztRQUM5RCxNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVMsQ0FBSztZQUMxQixHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDdEIsS0FBSyxDQUFDLE1BQU0sR0FBQztnQkFDUixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7WUFDbkIsQ0FBQyxDQUFBO1lBQ0QsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7WUFDdkIsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDcEIsQ0FBQyxDQUFBO1FBQ0QsTUFBTSxDQUFDLE9BQU8sR0FBSSxNQUFNLENBQUM7UUFDekIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUVsQyxDQUFDLENBQUMsQ0FBQTtBQUNILENBQUM7QUFDRCwwQkFBMEIsR0FBVTtJQUNuQyxNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBUyxPQUFXLEVBQUMsTUFBVTtRQUNoRCxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxNQUFNLEdBQUM7WUFDWixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEIsQ0FBQyxDQUFDO1FBQ0YsS0FBSyxDQUFDLE9BQU8sR0FBQyxNQUFNLENBQUM7UUFDckIsS0FBSyxDQUFDLEdBQUcsR0FBRyxH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S0FBSyxFQUFFLENBQUM7UUFDYixHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7QUFDRCxDQUFDLENBQUMsRUFBRSxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIHZhciBQcm9taXNlIDphbnk7XG4vKlxucHJvbWlzZeW8guatpemAmui/h2ZpbGVSZWFkZXLliqDovb3lm77niYcs5oiQ5Yqf5ZCO6L+U5Zue6K+l5Zu+54mHXG4qL1xuICBmdW5jdGlvbiBwcm9taXNlRmlsZVJlYWRlckxvYWRJbWFnZShmaWxlOmFueSl7XG4gIFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmU6YW55LHJlamVjdDphbnkpe1xuICAgICAgICAgICBsZXQgcmVhZGVyICA9IG5ldyBGaWxlUmVhZGVyKCksaW1hZ2UgPSBuZXcgSW1hZ2UoKSx1cmw6c3RyaW5nO1xuICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZTphbnkpe1xuICAgICAgICAgICBcdCAgIHVybCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgXHQgICBpbWFnZS5vbmxvYWQ9ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbWFnZSlcbiAgICAgICAgICAgXHQgICB9XG4gICAgICAgICAgIFx0ICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgXHQgICBpbWFnZS5zcmMgPSB1cmw7XG4gICAgICAgICAgIH1cbiAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgID0gcmVqZWN0O1xuICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKSBcblxuICBcdH0pXG4gIH1cbiAgZnVuY3Rpb24gcHJvbWlzZUxvYWRJbWFnZSh1cmw6c3RyaW5nKXtcbiAgXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZTphbnkscmVqZWN0OmFueSl7XG4gIFx0XHQgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gIFx0XHQgICAgIGltYWdlLm9ubG9hZD1mdW5jdGlvbigpe1xuICBcdFx0ICAgICBcdHJlc29sdmUoaW1hZ2UpO1xuICBcdFx0ICAgICB9O1xuICBcdFx0ICAgICBpbWFnZS5vbmVycm9yPXJlamVjdDtcbiAgXHRcdCAgICAgaW1hZ2Uuc3JjID0gdXJsO1xuXG4gIFx0fSlcbiAgfVxuLypcbm1vZGVcbjAg6buY6K6k5Li65Y+M5Lq65a+56K+dLFxuMSDljZXkurrplb/mlodcblxucGxhdGZvcm1cbjAg5Li6aW9zXG4xIOS4uuWuieWNk1xuKi9cbmludGVyZmFjZSB2aWV3T3B0aW9ucyB7XG5cdG1vZGU6bnVtYmVyLFxuXHRwbGF0Zm9ybTpudW1iZXJcblx0Y29udGV4dDphbnksXG5cdGJhY2tncm91bmQ/OmFueSxcblx0eDpudW1iZXIsXG5cdHk6bnVtYmVyLFxuICAgIHdpbmRvd1dpZHRoPzpudW1iZXIsXG4gICAgd2luZG93SGVpZ2h0PzpudW1iZXIsXG4gICAgdGV4dFNpemU/Om51bWJlcixcblxufVxuaW50ZXJmYWNlIGRpYWxvZ3Vle1xuXHRhdXRob3I6bnVtYmVyLFxuXHRjb250ZW50OnN0cmluZztcbn1cbmludGVyZmFjZSBiZ09wdHN7XG4gIHg/Om51bWJlcixcbiAgY29sb3I/OnN0cmluZyxcbn1cbmV4cG9ydCBjbGFzcyBEcmF3V2VjaGVhdFZpZXd7XG5cdGF2YXRhciA6IGFueTtcblx0YXZhdGFyMiA6IGFueTtcblx0b3B0czphbnk7XG5cdGRpYWxvZ3VlTGlzdDpBcnJheTxkaWFsb2d1ZT5cblx0cmVhbEhlaWdodCA6IG51bWJlcjtcblx0YmFja2dyb3VuZDphbnk7XG5cdHN0YXR1c0ltYWdlOmFueTtcblx0dGFsa2VySW1hZ2U6YW55O1xuICBpbnB1dEltYWdlOmFueTtcblx0aW5wdXQ6YW55O1xuXHRjb250ZXh0OmFueTtcblx0d2luZG93V2lkdGg6bnVtYmVyO1xuXHR3aW5kb3dIZWlnaHQ6bnVtYmVyO1xuXHRkZWZhdWx0SW5pdFZpZXdPcHRpb25zOmFueTtcblx0YmFja2dyb3VuZEhlaWdodDpudW1iZXI7XG5cdGF2YXRhclNpemUgOiBudW1iZXI7XG4gIHRleHRTaXplOm51bWJlcjtcblx0Y29uc3RydWN0b3Iob3B0czp2aWV3T3B0aW9ucyl7ICBcblx0XHQgIHRoaXMub3B0cyA9IHtcblx0XHQgIFx0bW9kZTpvcHRzLm1vZGUsXG5cdFx0ICBcdHBsYXRmb3JtOm9wdHMucGxhdGZvcm0sXG4gICAgICAgICAgICB4Om9wdHMueCxcbiAgICAgICAgICAgIHk6b3B0cy55LFxuXHRcdCAgfVxuXHRcdCAgdGhpcy5jb250ZXh0ID0gb3B0cy5jb250ZXh0O1xuXHRcdCAgdGhpcy53aW5kb3dXaWR0aCAgPSBvcHRzLndpbmRvd1dpZHRoO1xuXHRcdCAgdGhpcy53aW5kb3dIZWlnaHQgID0gb3B0cy53aW5kb3dIZWlnaHQ7XG5cdFx0ICB2YXIgZGVmYXVsdEluaXRWaWV3T3B0aW9ucyA9IHtcbiAgICAgICAgXHR3aW5kb3dIZWlnaHQ6dGhpcy53aW5kb3dIZWlnaHQsXG4gICAgICAgIFx0d2luZG93V2lkdGg6dGhpcy53aW5kb3dXaWR0aCxcbiAgICAgICAgXHRzdGF0dXNXaWR0aDp0aGlzLm9wdHMuc3RhdHVzV2lkdGh8fHRoaXMud2luZG93V2lkdGgsXG4gICAgICAgIFx0c3RhdHVzSGVpZ2h0OnRoaXMub3B0cy5zdGF0dXNIZWlnaHR8fDQwLFxuICAgICAgICBcdHRhbGtlcldpZHRoOnRoaXMub3B0cy50YWxrZXJXaWR0aHx8dGhpcy53aW5kb3dXaWR0aCxcbiAgICAgICAgXHR0YWxrZXJIZWlnaHQ6dGhpcy5vcHRzLnRhbGtlckhlaWdodHx8NDUsXG4gICAgICAgICAgICBpbnB1dFdpZHRoOnRoaXMub3B0cy5pbnB1dFdpZHRofHx0aGlzLndpbmRvd1dpZHRoLFxuICAgICAgICAgICAgaW5wdXRIZWlnaHQ6dGhpcy5vcHRzLmlucHV0SGVpZ2h0fHw2MCxcblxuICAgICAgICB9ICAgXG4gICAgICAgIHRoaXMuZGVmYXVsdEluaXRWaWV3T3B0aW9ucz1kZWZhdWx0SW5pdFZpZXdPcHRpb25zO1xuICAgICAgICAvL+WIneWni+WMlueahOaXtuWAmeW3sue7j+WwhuS4juWktOmDqOeahOmXtOi3neiuvuS4ujIwXG4gICAgICAgIHRoaXMucmVhbEhlaWdodCA9IDIwICsgZGVmYXVsdEluaXRWaWV3T3B0aW9ucy50YWxrZXJIZWlnaHQgKyBkZWZhdWx0SW5pdFZpZXdPcHRpb25zLnN0YXR1c0hlaWdodDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5hdmF0YXJTaXplID0gNDA7XG4gICAgICAgIHRoaXMudGV4dFNpemUgPSB0aGlzLm9wdHMudGV4dFNpemV8fDExO1xuXHR9XG5cdC8qXG4gICAgIHBhcmFtc1xuICAgICB0YXJnZXRcbiAgICAgMSDorr7nva7kuLvlpLTlg49cbiAgICAgMiDorr7nva7lr7nor53lpLTlg49cbiAgICAg6YCa6L+H5byC5q2l6ZO+56Gu5a6a5Yqg6L295a6M5oiQXG5cdCovXG5cdHNldEF2YXRhcih0YXJnZXQ6bnVtYmVyLGF2YXRhcjphbnkpe1xuXHRcdCB2YXIgZmlsZVJlYWRlciA9IHByb21pc2VGaWxlUmVhZGVyTG9hZEltYWdlKGF2YXRhciksdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmU6YW55LHJlamVjdDphbnkpe1xuICAgICAgICAgICAgICAgICAgZmlsZVJlYWRlci50aGVuKGZ1bmN0aW9uKHJlc3VsdDphbnkpe1xuICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgdGhhdC5hdmF0YXIgPSByZXN1bHQ7XG5cdFx0ICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmF2YXRhcjIgPSByZXN1bHQ7XG5cdFx0ICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlOmFueSl7XG4gICAgICAgICAgICAgIFx0ICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiB9XG4gICAgLyrorr7nva7lr7nor53kv6Hmga/liJfooagqL1xuICAgIHNldERpYWxvZ3VlKGxpc3Q6QXJyYXk8ZGlhbG9ndWU+KXtcbiAgICAgICAgICB0aGlzLmRpYWxvZ3VlTGlzdCA9IGxpc3Q7XG4gICAgfVxuICAgIF9kcmF3RGlhbG9ndWVWaWV3KCl7XG4gICAgICAgIHRoaXMuX2NoZWNrU3RhdHVzKCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlOmFueSk9PmZ1bmN0aW9uKCl7XG5cbiAgICAgICAgfSlcbiAgICB9XG4gICAgLypcbiAgICAg5Yid5aeL5YyW6aG26YOo5qCP5ZKM54q25oCB5qCP5bm257uY5Yi2XG4gICAgKi9cbiAgICBpbml0Vmlldygpe1xuICAgICAgIC8qSU9T5Yqg6L29Ki9cbiAgICAgICB2YXIgc3JjVVJMIDpzdHJpbmcgPSBcIlwiLFxuICAgICAgIHRoYXQgPSB0aGlzO1xuICAgICAgIGlmKHRoaXMub3B0cy5wbGF0Zm9ybT09PTApe1xuICAgICAgICAgICAvKuebruWJjeWbvueJh+WGmeatuyzlkI7pnaLlho3kv67mlLnmiJDmtLvliqjnmoQqL1xuICAgICAgICAgICAgc3JjVVJMPVwiLi4vaW1nL1wiXG4gICAgICAgfWVsc2V7XG5cbiAgICAgICB9XG4gICAgXG4gICAgICAgICAgICB2YXIgc3RhdHVzSW1hZ2UgPSAgIHByb21pc2VMb2FkSW1hZ2Uoc3JjVVJMK1wic3RhdHVzLnBuZ1wiKSxcbiAgICAgICAgICAgICB0YWxrZXJJbWFnZSA9ICAgcHJvbWlzZUxvYWRJbWFnZShzcmNVUkwrXCJ0YWxrZXIucG5nXCIpLFxuICAgICAgICAgICAgIGlucHV0SW1hZ2UgPSAgIHByb21pc2VMb2FkSW1hZ2Uoc3JjVVJMK1wiaW5wdXQucG5nXCIpO1xuICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlOmFueSxyZWplY3Q6YW55KXtcbiAgICAgICAgICAgICBcdFByb21pc2UuYWxsKFtzdGF0dXNJbWFnZSx0YWxrZXJJbWFnZSxpbnB1dEltYWdlXSkudGhlbihmdW5jdGlvbihyZXN1bHQ6YW55KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1c0ltYWdlID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGFsa2VySW1hZ2UgPSByZXN1bHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pbnB1dEltYWdlICA9IHJlc3VsdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAvKuWKoOi9veWujOWbvueJh+WQjuW8gOWni+e7mOWItiovXG4gICAgICAgICAgICAgICAgICAgICAgICAgLyrnu5jliLbov4fnqIsqL1xuICAgICAgICAgICAgICAgICAgICAgICAgIC8qKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbnRleHQuZHJhd0ltYWdlKHRoYXQuc3RhdHVzSW1hZ2UsdGhhdC5vcHRzLngsdGhhdC5vcHRzLnksdGhhdC5kZWZhdWx0SW5pdFZpZXdPcHRpb25zLnN0YXR1c1dpZHRoLHRoYXQuZGVmYXVsdEluaXRWaWV3T3B0aW9ucy5zdGF0dXNIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29udGV4dC5kcmF3SW1hZ2UodGhhdC50YWxrZXJJbWFnZSx0aGF0Lm9wdHMueCx0aGF0Lm9wdHMueSt0aGF0LmRlZmF1bHRJbml0Vmlld09wdGlvbnMuc3RhdHVzSGVpZ2h0LHRoYXQuZGVmYXVsdEluaXRWaWV3T3B0aW9ucy50YWxrZXJXaWR0aCx0aGF0LmRlZmF1bHRJbml0Vmlld09wdGlvbnMudGFsa2VySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbnRleHQuZHJhd0ltYWdlKHRoYXQuaW5wdXRJbWFnZSx0aGF0Lm9wdHMueCx0aGF0Lm9wdHMueSt0aGF0LmRlZmF1bHRJbml0Vmlld09wdGlvbnMud2luZG93SGVpZ2h0LXRoYXQuZGVmYXVsdEluaXRWaWV3T3B0aW9ucy5pbnB1dEhlaWdodCx0aGF0LmRlZmF1bHRJbml0Vmlld09wdGlvbnMuaW5wdXRXaWR0aCx0aGF0LmRlZmF1bHRJbml0Vmlld09wdGlvbnMuaW5wdXRIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICBcdH0pLmNhdGNoKChlOmFueSk9PntcbiAgICAgICAgICAgICBcdFx0cmVqZWN0KGUpXG4gICAgICAgICAgICAgXHR9KVxuICAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIC8qXG4gICAgIOWmguaenOmcgOimgeS9v+eUqOiHquWumuS5ieiDjOaZr+WwseWKoOi9veiDjOaZr+Wbvui/lOWbnuS4gOS4qnByb21pc2VcbiAgICAqL1xuICAgIF9sb2FkQmFja2dyb3VuZCgpe1xuICAgICAgICAgXHQgcmV0dXJuIHByb21pc2VGaWxlUmVhZGVyTG9hZEltYWdlKHRoaXMub3B0cy5iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgc2V0QmFya2dyb3VuZChvcHRzOmJnT3B0cyl7XG4gICAgXHR2YXIgdGhhdCA9IHRoaXMsXG4gICAgXHRiYWNrZ3JvdW5kWCA9IHRoaXMub3B0cy54LFxuICAgIFx0YmFja2dyb3VuZFkgPSB0aGlzLmRlZmF1bHRJbml0Vmlld09wdGlvbnMuc3RhdHVzSGVpZ2h0K3RoaXMuZGVmYXVsdEluaXRWaWV3T3B0aW9ucy50YWxrZXJIZWlnaHQsXG4gICAgXHRiYWNrZ3JvdW5kV2lkdGggPSB0aGlzLmRlZmF1bHRJbml0Vmlld09wdGlvbnMud2luZG93V2lkdGgsXG4gICAgXHRiYWNrZ3JvdW5kSGVpZ2h0ID0gdGhpcy5kZWZhdWx0SW5pdFZpZXdPcHRpb25zLndpbmRvd0hlaWdodC10aGlzLmRlZmF1bHRJbml0Vmlld09wdGlvbnMuc3RhdHVzSGVpZ2h0LXRoaXMuZGVmYXVsdEluaXRWaWV3T3B0aW9ucy50YWxrZXJIZWlnaHQtdGhpcy5kZWZhdWx0SW5pdFZpZXdPcHRpb25zLmlucHV0SGVpZ2h0O1xuICAgIFx0Ly/lrZjlgqjkuIvmnaXorqHnrpfmiYDlvpfnmoTog4zmma/pq5jluqZcbiAgICBcdHRoaXMuYmFja2dyb3VuZEhlaWdodCA9IGJhY2tncm91bmRIZWlnaHQ7XG4gICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmU6YW55LHJlamVjdDphbnkpe1xuICAgICAgIFx0ICAgXHRpZihvcHRzLmNvbG9yKXtcbiAgICAgICAgICAgICAgIC8v55u05o6l57uY5Yi26IOM5pmvXG4gICAgICAgICAgICAgICAgICAgdGhhdC5jb250ZXh0LmZpbGxTdHlsZSA9IG9wdHMuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29udGV4dC5maWxsUmVjdChiYWNrZ3JvdW5kWCxiYWNrZ3JvdW5kWSxiYWNrZ3JvdW5kV2lkdGgsYmFja2dyb3VuZEhlaWdodCk7ICBcbiAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgIFx0ICAgIH1lbHNle1xuICAgIFx0XHQvL+WKoOijheWbvueJh+W5tue7mOWItlxuICAgIFx0ICB9XG4gICAgICAgfSlcbiAgICB9XG4gICAgX2NoZWNrU3RhdHVzKCl7XG4gICAgXHQvL+ajgOafpeaYr+WQpuWKoOi9veWbvueJh+WujOaIkOS6huWmguaenOWksei0peS6huWImeaKm+WHuuW8guW4uFxuICAgIFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmU6YW55LHJlamVjdDphbnkpe1xuICAgIFx0XHR0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrVGltZXIpe1xuICAgICAgICAgICAgICAgICBcdHJlamVjdChcInRpbWUgb3V0XCIpXG4gICAgICAgICAgICAgICAgIH1cbiAgICBcdFx0fSw1MDAwMCk7XG4gICAgXHRcdHRoaXMuY2hlY2tUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMub3B0cy5tb2RlPT09MSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYXZhdGFyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRyZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgXHQgIGlmKHRoaXMuYXZhdGFyJiZ0aGlzLmF2YXRhcjIpe1xuICAgICAgICAgICAgICAgICAgICAgICBcdCAgXHRyZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgXHQgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFx0XHR9LDUwMCkgXG4gICAgXHR9KVxuICAgIH1cbiAgICAvKuWktOWDj+aWuemdouW+heabtOaWsCovXG4gICAgLyrnu5jliLbljZXmnaHkv6Hmga8qL1xuICAgIGRyZXdNZXNzYWdlKHVzZXI6bnVtYmVyLHRleHQ6c3RyaW5nKXtcbiAgICBcdC8v5Y2V6KGM5L+h5oGv6ZW/5bqm5qC55o2u5a2X5L2T5a695bqm6K6+5a6aLOWkmuihjOS/oeaBr+W+heWumlxuICAgIFx0bGV0IGF2YXRhclg6bnVtYmVyLGF2YXRhclk6bnVtYmVyLG1lc3NhZ2VYOm51bWJlcixtZXNzYWdlWTpudW1iZXIsd2lkdGg6bnVtYmVyLGhlaWdodD0zNSxcbiAgICBcdCBtZXNzYWdlV2lkdGggPSAxMDAsbWVzc2FnZUhlaWdodCA9IDMwLHBhZGRpbmcgPSA1LHRleHRDb3VudCA9MCxyb3c9MCx0ZXh0U2l6ZSxcbiAgICAgICB0ZXh0Um93czpBcnJheTxzdHJpbmc+O1xuICAgICAgIC8q5LiJ6KeS5Y+C5pWwKi9cbiAgICAgICBjb25zdCBUUklBTkdMRV9QQURESU5HX1NUQVJUX1ggPSAxMCxcbiAgICAgICAgICAgICBUUklBTkdMRV9QQURESU5HX1NUQVJUX1kgPSAgMjAsXG4gICAgICAgICAgICAgVFJJQU5HTEVfUEFERElOR19UT1BfWSA9ICAxNSxcbiAgICAgICAgICAgICBUUklBTkdMRV9QQURESU5HX0RPV05fWSA9ICAyNTtcbiAgICAgICAgICAgICAvL+WkmuihjOWtl+aVsOmZkOWItlxuICAgIGNvbnN0ICAgIE1VTFRJUEVfTElORV9DSEFUX0xJTUlUID0gNDA7XG4gICAgXHQgIC8v6K6h566X5L+h5oGv55qE5a695bqmLOWFiOWwhuS4reaWh+i9rOWMluS4gOS4iyzkuIDkuKrkuK3mloflrZfnrKbljaDkvY3kuKTkuKroi7HmloflrZfnrKZcbiAgICBcdCAgbGV0IGNoaW5lc2VDb3VudCA9IHRoaXMuX2NvdW50Q2hpbmVzZSh0ZXh0KSxcbiAgICBcdCAgICAgIG90aGVyQ291bnQgPSB0ZXh0Lmxlbmd0aCAtIGNoaW5lc2VDb3VudDtcbiAgICBcdCAgICAgIHRoaXMuY29udGV4dC5mb250ID0gXCIxOHB4IOW+rui9r+mbhem7kVwiO1xuICAgICAgICAgICAgdGV4dENvdW50ID0gdGV4dC5sZW5ndGggLSBjaGluZXNlQ291bnQgKyBjaGluZXNlQ291bnQgKiAyO1xuICAgIFx0ICAgaWYodGV4dENvdW50IDwgTVVMVElQRV9MSU5FX0NIQVRfTElNSVQpe1xuICAgICAgICAgICAgLy/lj6rmnInkuIDooYxcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoICsgMTI7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgXHQvKlxuICAgICAgICAgIFx05aSa6KGM5a6a5a695aSE55CGXG4gICAgICAgICAgXHQqL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgaiA9IDAsc3RyQ291bnQ9MCx0ZW1wU3RyPVwiXCI7XG4gICAgICAgICAgICAgdGV4dFJvd3Nbal0gPSBcIlwiO1xuICAgICAgICAgICAgLy/mjInlrZfoioLmiKrlj5bkuIDooYzlj6/ku6XmlL4zNuWtl+iKglxuICAgICAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIFx0ICAgIGxldCBzdHJTaXplID0gIDAgO1xuICAgICAgICAgICAgICAgICAgICBpZih0ZXh0LmNoYXJDb2RlQXQoaSkgPiAxMjgpe1xuICAgICAgICAgICAgICAgICAgICBcdHN0clNpemUgPSAyIDtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIFx0c3RyU2l6ZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy/nrKzkuozkuKrmnaHku7blupTor6XmmK/pgJrov4forqHnrpfpnZ7kuK3mloflrZfnrKblrr3luqblkozkuK3mloflrZfnrKblrr3luqbmr5Tov5vooYzliKTmlq0g6L+Z5Liq5pqC5pe25YaZ5q2744CC44CCXG4gICAgICAgICAgICAgICAgICAgIGlmKHN0ckNvdW50ICsgc3RyU2l6ZSA+IE1VTFRJUEVfTElORV9DSEFUX0xJTUlUIHx8IHRoaXMuX2NvdW50Tm90Q2hpbmVzZSh0ZW1wU3RyKSA+IE1VTFRJUEVfTElORV9DSEFUX0xJTUlUIC0gMyl7XG4gICAgICAgICAgICAgICAgICAgIFx0ICB0ZXh0Um93c1tqXSs9dGVtcFN0cjtcbiAgICAgICAgICAgICAgICAgICAgXHQgIHRlbXBTdHIgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBcdCAgLy/mjaLooYxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WIneWni+WMllxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Um93c1tqXT0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy/muIXpm7ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyQ291bnQ9MDtcbiAgICAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wU3RyICs9IHRleHRbaV0gICBcbiAgICAgICAgICAgICAgICAgICAgICBzdHJDb3VudCArPSBzdHJTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGV4dFJvd3Nbal0hPT10ZW1wU3RyKXtcbiAgICAgICAgICAgIFx0bGV0IHRlbXAgPSBqKys7XG4gICAgICAgICAgICBcdHRleHRSb3dzW3RlbXBdPSBcIlwiO1xuICAgICAgICAgICAgXHR0ZXh0Um93c1t0ZW1wXSs9dGVtcFN0cjtcbiAgICAgICAgICAgIFx0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWlnaHQgPSAxNSArIChqKzEpICoyMDtcbiAgICAgICAgICAgIHdpZHRoICA9IDE4ICogMjAgKyAxNTsgICAgIFxuICBcbiAgICAgICAgfVxuICAgIFx0IC8q57uY5Yi25YmN6ZyA6KaB5Yik5pat57uY5Yi25L+h5oGv5piv5ZCm5Lya6LaF6L+H5pW05Liq6IGK5aSp5qCPKi9cbiAgICAgICAgICAgIGlmKGhlaWdodCt0aGlzLnJlYWxIZWlnaHQ+dGhpcy5iYWNrZ3JvdW5kSGVpZ2h0KXtcbiAgICAgICAgICAgIFx0LyrotoXov4fmlbTkuKrogYrlpKnmoI/liJnlgZzmraLnu5jliLYs5ZCO57ut5Y+v5Lul57uY5Yi25ZCO6YGu55uW77yfKi9cbiAgICAgICAgICAgIFx0cmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodXNlcj09PTApe1xuICAgICAgICAgICAgXHQvL+WPs+i+ueS4uuacrOS6ulxuICAgICAgICAgICAgICAgIC8v5YWI6K6h566X5aS05YOP55qE6LW354K5LOS/oeaBr+eahOi1t+eCuSzkvb/nlKjpu5jorqTnmoTlt6blj7Ppl7Tot53lkI7kuLrotbfngrlcbiAgICAgICAgICAgICAgICBhdmF0YXJYID0gdGhpcy5kZWZhdWx0SW5pdFZpZXdPcHRpb25zLndpbmRvd1dpZHRoIC0gcGFkZGluZyAtIHRoaXMuYXZhdGFyU2l6ZTtcbiAgICAgICAgICAgICAgICBhdmF0YXJZID0gdGhpcy5yZWFsSGVpZ2h0K3BhZGRpbmc7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVggPSBhdmF0YXJYIC0gd2lkdGggLSAxMjtcbiAgICAgICAgICAgICAgICBtZXNzYWdlWSA9IGF2YXRhclkgO1xuICAgICAgICAgICAgICAvKuWFiOe7mOWItuWktOWDj+WGjee7mOWItuS/oeaBryovXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5hdmF0YXIsYXZhdGFyWCxhdmF0YXJZLHRoaXMuYXZhdGFyU2l6ZSx0aGlzLmF2YXRhclNpemUpO1xuICAgICAgICAgICAgICAvL+W8gOWni+e7mOWItuS/oeaBr1xuICAgICAgICAgICAgICB0aGlzLl9kcmF3Um91bmRSZWN0KHRoaXMuY29udGV4dCxtZXNzYWdlWCxtZXNzYWdlWSs1LHdpZHRoLGhlaWdodCw1KTtcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI2EyZTU2M1wiXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgLy/lj7PovrnotbfngrlcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhtZXNzYWdlWCtUUklBTkdMRV9QQURESU5HX1NUQVJUX1grd2lkdGgsbWVzc2FnZVkrVFJJQU5HTEVfUEFERElOR19TVEFSVF9ZKVxuICAgICAgICAgICAgICAvLyDlt6bkuIrop5JcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhtZXNzYWdlWCt3aWR0aCxtZXNzYWdlWStUUklBTkdMRV9QQURESU5HX1RPUF9ZKVxuICAgICAgICAgICAgICAvLyAvL+W3puS4i+inklxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKG1lc3NhZ2VYK3dpZHRoLG1lc3NhZ2VZK1RSSUFOR0xFX1BBRERJTkdfRE9XTl9ZKVxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZUNhcCA9ICBcInJvdW5kXCJcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjYTJlNTYzXCI7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI2EyZTU2M1wiXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICBpZih0ZXh0Q291bnQgPCBNVUxUSVBFX0xJTkVfQ0hBVF9MSU1JVCl7XG4gICAgICAgICAgICAvL+WNleihjOe7mOWItlxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiIzAwMFwiXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCxtZXNzYWdlWCs2LG1lc3NhZ2VZICsgMzApO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAvL+WkmuihjOe7mOWItlxuICAgICAgICAgICAgbGV0IHRleHRSb3dYID1tZXNzYWdlWCsxMCx0ZXh0Um93WT1tZXNzYWdlWSArIDMwO1xuICAgICAgICAgZm9yKGxldCBpID0wO2kgPCB0ZXh0Um93cy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIC8v5aSa6KGM6ZyA6KaB5YiG5ouGXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7IFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiIzAwMFwiXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dFJvd3NbaV0sdGV4dFJvd1gsdGV4dFJvd1kpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgdGV4dFJvd1kgKz0gMjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIFx0Ly/lt6bovrnkuLrlr7nor53ogIVcbiAgICAgICAgICAgICAgICAvL+WFiOiuoeeul+WktOWDj+eahOi1t+eCuSzkv6Hmga/nmoTotbfngrks5L2/55So6buY6K6k55qE5bem5Y+z6Ze06Led5ZCO5Li66LW354K5XG4gICAgICAgICAgICAgICAgYXZhdGFyWCA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgYXZhdGFyWSA9IHRoaXMucmVhbEhlaWdodCtwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VYID0gYXZhdGFyWCArIHRoaXMuYXZhdGFyU2l6ZSArIDExO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VZID0gYXZhdGFyWSA7XG4gICAgICAgICAgICAgIC8q5YWI57uY5Yi25aS05YOP5YaN57uY5Yi25L+h5oGvKi9cbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmF2YXRhcjIsYXZhdGFyWCxhdmF0YXJZLHRoaXMuYXZhdGFyU2l6ZSx0aGlzLmF2YXRhclNpemUpO1xuICAgICAgICAgICAgICAvL+W8gOWni+e7mOWItuS/oeaBr1xuICAgICAgICAgICAgICB0aGlzLl9kcmF3Um91bmRSZWN0KHRoaXMuY29udGV4dCxtZXNzYWdlWCxtZXNzYWdlWSs1LHdpZHRoLGhlaWdodCw1KTtcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI0ZGRlwiXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgLy/lt6bovrnotbfngrlcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhtZXNzYWdlWC1UUklBTkdMRV9QQURESU5HX1NUQVJUX1gsbWVzc2FnZVkrVFJJQU5HTEVfUEFERElOR19TVEFSVF9ZKVxuICAgICAgICAgICAgICAvL+WPs+S4iuinklxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKG1lc3NhZ2VYLG1lc3NhZ2VZICsgVFJJQU5HTEVfUEFERElOR19UT1BfWSlcbiAgICAgICAgICAgICAgLy/lj7PkuIvop5JcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhtZXNzYWdlWCxtZXNzYWdlWSArIFRSSUFOR0xFX1BBRERJTkdfRE9XTl9ZKVxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZUNhcCA9ICBcInJvdW5kXCJcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjZmZmXCI7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI2ZmZlwiXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICBpZih0ZXh0Q291bnQ8MzYpe1xuICAgICAgICAgICAgLy/ljZXooYznu5jliLZcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcIiMwMDBcIlxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsbWVzc2FnZVgrNixtZXNzYWdlWSArIDMwKTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgLy/lpJrooYznu5jliLZcbiAgICAgICAgICBsZXQgdGV4dFJvd1ggPW1lc3NhZ2VYKzEwLHRleHRSb3dZPW1lc3NhZ2VZICsgMzA7XG4gICAgICAgICBmb3IobGV0IGkgPTA7aSA8IHRleHRSb3dzLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgLy/lpJrooYzpnIDopoHliIbmi4ZcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTsgXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCIjMDAwXCJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0Um93c1tpXSx0ZXh0Um93WCx0ZXh0Um93WSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB0ZXh0Um93WSArPSAyNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgLy8g57uY5Yi25a6M5oiQ5ZCO6ZyA6KaB5pu05paw5a6e6ZmF6auY5bqmXG4gICAgICAgdGhpcy5yZWFsSGVpZ2h0Kz1oZWlnaHQrMTU7XG4gICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9XG4gICAgX2RlYnVnSW1hZ2UoKXtcbiAgICBcdHZhciB1cmwgPSBcIi4uL2ltZy9kZWJ1Zy5wbmdcIix0aGF0ID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZTphbnkpe1xuICAgICAgICAgIFx0ICAgIHByb21pc2VMb2FkSW1hZ2UodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3VsdDphbnkpe1xuICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmF2YXRhciA9IHJlc3VsdDtcbiAgICAgICAgICBcdCAgICBcdCAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgICAgIFx0ICAgIH0pXG4gICAgICAgICAgfSlcbiAgICB9XG4gICAgLyrnlLvlnIbop5LnmoTlh73mlbAqL1xuICAgIF9kcmF3Um91bmRSZWN0KGN4dDphbnksIHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyLCByYWRpdXM6bnVtYmVyKXtcbiAgICAgICAgY3h0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjeHQuYXJjKHggKyByYWRpdXMsIHkgKyByYWRpdXMsIHJhZGl1cywgTWF0aC5QSSwgTWF0aC5QSSAqIDMgLyAyKTtcbiAgICAgICAgY3h0LmxpbmVUbyh3aWR0aCAtIHJhZGl1cyArIHgsIHkpO1xuICAgICAgICBjeHQuYXJjKHdpZHRoIC0gcmFkaXVzICsgeCwgcmFkaXVzICsgeSwgcmFkaXVzLCBNYXRoLlBJICogMyAvIDIsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgY3h0LmxpbmVUbyh3aWR0aCArIHgsIGhlaWdodCArIHkgLSByYWRpdXMpO1xuICAgICAgICBjeHQuYXJjKHdpZHRoIC0gcmFkaXVzICsgeCwgaGVpZ2h0IC0gcmFkaXVzICsgeSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMSAvIDIpO1xuICAgICAgICBjeHQubGluZVRvKHJhZGl1cyArIHgsIGhlaWdodCAreSk7XG4gICAgICAgIGN4dC5hcmMocmFkaXVzICsgeCwgaGVpZ2h0IC0gcmFkaXVzICsgeSwgcmFkaXVzLCBNYXRoLlBJICogMSAvIDIsIE1hdGguUEkpO1xuICAgICAgICBjeHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuICAgIC8q6K6+572u5a+56K+d5Lq65ZCN5a2XKi9cbiAgICBzZXRUYWxrZXJOYW1lKG5hbWU6c3RyaW5nKXtcbiAgICBcdC8q6ZW/5bqm5LiN5Y+v6LaF6L+HMjDkuKrlrZfnrKYqL1xuICAgICAgICAgaWYobmFtZS5sZW5ndGg+MjB8fG5hbWUubGVuZ3RoPT0wKXtyZXR1cm4gZmFsc2V9XG4gICAgXHQgbGV0IG5hbWVZID0gdGhpcy5kZWZhdWx0SW5pdFZpZXdPcHRpb25zLnN0YXR1c0hlaWdodCArIDI1LFxuICAgICAgICAgbmFtZVggPSB0aGlzLmRlZmF1bHRJbml0Vmlld09wdGlvbnMud2luZG93V2lkdGgvMiAtIChuYW1lLmxlbmd0aCAqOCkvMjtcbiAgICBcdCB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCIjZmZmXCJcbiAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gXCIyMnB4IOW+rui9r+mbhem7kVwiO1xuICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KG5hbWUsbmFtZVgsbmFtZVkpO1xuICAgICAgICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgX2NvdW50Q2hpbmVzZShzdHI6c3RyaW5nKXtcbiAgICB2YXIgbT1zdHIubWF0Y2goL1tcXHU0ZTAwLVxcdTlmZmZcXHVmOTAwLVxcdWZhZmZdL2cpO1xuICAgIHJldHVybiAoIW0/MDptLmxlbmd0aCk7XG59ICBcbl9jb3VudE5vdENoaW5lc2Uoc3RyOnN0cmluZyl7XG5cdHZhciBtPXN0ci5tYXRjaCgvKD8hW1xcdTRlMDAtXFx1OWZmZlxcdWY5MDAtXFx1ZmFmZl0pL2cpO1xuICAgIHJldHVybiAoIW0/MDptLmxlbmd0aCk7XG59XG4gIFxuICAgLy/orr7nva7nirbmgIHlm77niYfmjqXlj6MobnVsbOWImeaYr+ebtOaOpea4heepuilcbiAgIHNldFN0YXR1c0ltYWdlKHN0YXR1c0ltYWdlOmFueSl7XG4gICBcdCAgIHRoaXMuc3RhdHVzSW1hZ2UgPSBzdGF0dXNJbWFnZTtcbiAgIH1cbiAgIC8v6K6+572u54q25oCB5a+56K+d5p2h5o6l5Y+jKG51bGzliJnmmK/nm7TmjqXmuIXnqbopXG4gICBzZXR0YWxrZXJJbWFnZSh0YWxrZXJJbWFnZTphbnkpe1xuICAgXHQgICB0aGlzLnRhbGtlckltYWdlID0gdGFsa2VySW1hZ2U7XG4gICB9XG4gICBnZXRTdGF0dXNJbWFnZSgpe1xuICAgXHRyZXR1cm4gdGhpcy5zdGF0dXNJbWFnZTtcbiAgIH1cbiAgIGdldFRhbGtlckltYWdlKCl7XG4gICBcdHJldHVybiB0aGlzLnRhbGtlckltYWdlO1xuICAgfVxufSIsImltcG9ydCB7RHJhd1dlY2hlYXRWaWV3fSBmcm9tICcuL0RyYXdWaWV3J1xuXG5cbihmdW5jdGlvbigpeyBcbiAgICAgICAgIHZhciBjYW52YXM6YW55LGNvbnRleHQsZHJhd1dlY2hlYXRWaWV3OkRyYXdXZWNoZWF0Vmlldyxpc0luaXQ6Ym9vbGVhbixhdmF0YXIsbGlzdCA9IFtcbiAgICAgICB7XG4gICAgICAgICB1c2VyOjAsXG4gICAgICAgICBtZXNzYWdlOlwiaGVsbG9cIlxuICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgIHVzZXI6MSxcbiAgICAgICAgIG1lc3NhZ2U6XCJoZWxsbzFcIlxuICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgIHVzZXI6MSxcbiAgICAgICAgIG1lc3NhZ2U6XCJoZWxsbzJcIlxuICAgICAgIH0sXG4gICAgICAgXTtcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDUwMDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDgwMDtcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGRyYXdXZWNoZWF0VmlldyA9IG5ldyBEcmF3V2VjaGVhdFZpZXcoe1xuICAgIG1vZGU6MCxcbiAgICBwbGF0Zm9ybTowLFxuICAgIHg6MCxcbiAgICB5OjAsXG4gICAgY29udGV4dDpjb250ZXh0LFxuICAgIHdpbmRvd1dpZHRoOjUwMCxcbiAgICB3aW5kb3dIZWlnaHQ6ODAwXG4gIH0pICAgIFxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0TmFtZVwiKS5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNldE5hbWUoKVxuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZE1lc3NhZ2VcIikub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgIGFkZE1lc3NhZ2UoKVxuICAgICAgICB9XG4gICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2Nlc3NcIikub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgIGRvd25sb2FkKClcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwbG9hZFwiKS5vbmNsaWNrID0gZnVuY3Rpb24oKXsgIFxuICAgICAgICAgICAgIHZhciBhdmF0YXIgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhcicpKSxcbiAgICAgICAgICAgICBhdmF0YXIyID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdmF0YXIyJykpLFxuICAgICAgICAgICAgIG1vZGUgICAgPSBOdW1iZXIoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RlJykpLnZhbHVlKSxcbiAgICAgICAgICAgICBhZGRNZXNzYWdlID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRNZXNzYWdlJykpO1xuICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gKDxIVE1MSW5wdXRFbGVtZW50PnRoaXMpO1xuICAgICAgICAgICAgIGlmKG1vZGU9PT0wKXtcbiAgICAgICAgICAgICAgIC8v5Y+M5pa55aS05YOP5b+F6aG75LiK5LygXG4gICAgICAgICAgICAgICBpZighYXZhdGFyLmZpbGVzWzBdfHwhYXZhdGFyMi5maWxlc1swXSl7XG4gICAgICAgICAgICAgICAgIGFsZXJ0KFwi6K+35LiK5Lyg5Y+M5pa55aS05YOPXCIpO1xuICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPXRydWVcbiAgICAgICAgICAgICAgICAgdXBsb2FkQXZhdGFyQm90aChhdmF0YXIsYXZhdGFyMikudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkTWVzc2FnZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZihtb2RlPT0xKXtcbiAgICAgICAgICAgICAgICAvL+iHquW3seWktOWDj+W/hemhu+S4iuS8oFxuICAgICAgICAgICAgICAgIGlmKCFhdmF0YXIuZmlsZXNbMF0pe1xuICAgICAgICAgICAgICAgICBhbGVydChcIuivt+S4iuS8oOiHquW3seWktOWDj1wiKVxuICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPXRydWVcbiAgICAgICAgICAgICAgICAgdXBsb2FkQXZhdGFyU2VsZihhdmF0YXIpLnRoZW4oZnVuY3Rpb24ocmVzdWx0OmFueSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRNZXNzYWdlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZihtb2RlPT0yKXtcbiAgICAgICAgICAgICAgICAvL+WvueaWueWktOWDj+W/hemhu+S4iuS8oFxuICAgICAgICAgICAgICAgICBpZighYXZhdGFyMi5maWxlc1swXSl7XG4gICAgICAgICAgICAgICAgIGFsZXJ0KFwi6K+35LiK5Lyg5a+55pa55aS05YOPXCIpXG4gICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9dHJ1ZVxuICAgICAgICAgICAgICAgICB1cGxvYWRBdmF0YXJPdGhlcihhdmF0YXIyKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRNZXNzYWdlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIGNoZWNrSW5pdChmdW5jdGlvbigpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICB9KSBcblxuXG4gICAgICAvKmluaXQqL1xuICAgICAgZHJhd1dlY2hlYXRWaWV3LmluaXRWaWV3KClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlzSW5pdCA9ICB0cnVlO1xuICAgICAgICByZXR1cm4gZHJhd1dlY2hlYXRWaWV3LnNldEJhcmtncm91bmQoe2NvbG9yOlwiI2YzZjNmM1wifSlcbiAgICAgIH0pXG4gICAgICBmdW5jdGlvbiBjaGVja0luaXQoc3VjY2VzczphbnksZmFpbD86YW55KXtcbiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNJbml0KXtcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVPdXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLliJ3lp4vljJbmiJDlip9cIikvL1xuICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0sNTAwKTtcbiAgICAgICAgdmFyIHRpbWVPdXRlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgaWYoIWlzSW5pdCl7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCLliJ3lp4vljJblpLHotKVcIilcbiAgICAgICAgICAgICAgfVxuICAgICAgICB9LDUwMDAwKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwbG9hZEF2YXRhckJvdGgoYXZhdGFyOmFueSxhdmF0YXIyOmFueSl7XG4gICAgICAgICAgICAgICB2YXIgcDEgPSBkcmF3V2VjaGVhdFZpZXcuc2V0QXZhdGFyKDAsYXZhdGFyLmZpbGVzWzBdKVxuICAgICAgICAgICAgICAgdmFyIHAyID0gZHJhd1dlY2hlYXRWaWV3LnNldEF2YXRhcigxLGF2YXRhcjIuZmlsZXNbMF0pXG4gICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtwMSxwMl0pO1xuXG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGxvYWRBdmF0YXJTZWxmKGF2YXRhcjphbnkpe1xuICAgICAgICByZXR1cm4gZHJhd1dlY2hlYXRWaWV3LnNldEF2YXRhcigwLGF2YXRhci5maWxlc1swXSlcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwbG9hZEF2YXRhck90aGVyKGF2YXRhcjphbnkpe1xuICAgICAgICByZXR1cm4gZHJhd1dlY2hlYXRWaWV3LnNldEF2YXRhcigxLGF2YXRhci5maWxlc1swXSlcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGFkZE1lc3NhZ2UoKXtcbiAgICAgICAgIHZhciB0YWxrZXJUeXBlID0gTnVtYmVyKCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFsa2VyVHlwZScpKS52YWx1ZSksXG4gICAgICAgICAgICAgbWVzc2FnZSA9ICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKSkudmFsdWU7XG4gICAgICAgICAgICAgaWYobWVzc2FnZT09PVwiXCIpe1xuICAgICAgICAgICAgICAgYWxlcnQoXCLkv6Hmga/kuI3og73kuLrnqbpcIilcbiAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBkcmF3V2VjaGVhdFZpZXcuZHJld01lc3NhZ2UodGFsa2VyVHlwZSxtZXNzYWdlKVxuICAgICAgICAgICAgICAgICBpZighcmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6auY5bqm5LiN6LazIOivt+etieW+heabtOaWsFwiKTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHNldE5hbWUoKXtcbiAgICAgICAgICAgIHZhciBuYW1lID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFsa2VyTmFtZVwiKSkudmFsdWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTtcbiAgICAgICAgICAgIGRyYXdXZWNoZWF0Vmlldy5zZXRUYWxrZXJOYW1lKG5hbWUpO1xuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0TmFtZVwiKSkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZG93bmxvYWQoKXtcbiAgICAgICAgaWYgKGNhbnZhcy50b0Jsb2IpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKFxuICAgICAgICBmdW5jdGlvbiAoYmxvYjphbnkpIHtcbiAgICAgICAgICAgY3JlYXRlQW5kRG93bmxvYWRGaWxlKFwicmVjb3JkLnBuZ1wiLGJsb2IpXG4gICAgICAgIH0sXG4gICAgICAgICdpbWFnZS9qcGVnJ1xuICAgICk7XG4gICAgICB9XG4gIH1cbi8qKlxuaHR0cHM6Ly9nYW9oYW95YW5nLmdpdGh1Yi5pby8yMDE2LzExLzIyL2pzLWNyZWF0ZS1maWxlLWFuZC1kb3dubG9hZC9cbiAqIOWIm+W7uuW5tuS4i+i9veaWh+S7tlxuICogQHBhcmFtICB7U3RyaW5nfSBmaWxlTmFtZSDmlofku7blkI1cbiAqIEBwYXJhbSAge1N0cmluZ30gY29udGVudCAg5paH5Lu25YaF5a65XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFuZERvd25sb2FkRmlsZShmaWxlTmFtZTphbnksIGNvbnRlbnQ6YW55KSB7XG4gICAgdmFyIGFUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIGJsb2IgOmFueTtcbiAgICBibG9iPSBuZXcgQmxvYihbY29udGVudF0pO1xuICAgIGFUYWcuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICBhVGFnLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGFUYWcuY2xpY2soKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2IpO1xufVxufSkoKSJdfQ=="}